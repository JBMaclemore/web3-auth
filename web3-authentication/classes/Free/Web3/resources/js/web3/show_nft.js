var cardCount=0;async function getAdminConfiguredNftData(){let t;return await jQuery.post(ajaxurl,{action:"type_of_request",request:"getAdminConfiguredNftData",mo_web3_verify_nonce:wp_nonce},function(e){t=e}),t}async function showNftOwnByUserUsingApi(){cardCount=0;let t=await getAdminConfiguredNftData();if(t){for(let[e,a]of Object.entries(t)){let s=a.blockchain,i=a.contractAddress;for(let n=0;n<i.length;n++)await jQuery.post(ajaxurl,{action:"type_of_request",request:"getUserHoldNFTData",blockchain:s,contractAddresses:i[n],mo_web3_verify_nonce:wp_nonce},function(t){let e=JSON.parse(t),a;getNftData(e.nfts,e.total,s)})}document.getElementById("nftLoadMsg").innerText=""}}function isImage(t){return/\.(jpg|jpeg|png|webp|avif|gif|svg)$/.test(t)}async function getNftData(t,e,a){for(let s=0;s<e;s++){let i=t[s].token_id,n=t[s].contract_address,r=getWeb3ContractObject(TokenABIType1,n,a),o;try{o=await r.methods.tokenURI(i).call()}catch(c){console.log(c);try{o=await r.methods.uri(i).call()}catch(l){console.log(l)}}o.startsWith("ipfs://")&&(o=`https://ipfs.io/ipfs/${o.split("ipfs://")[1]}`);let f={action:"type_of_request",request:"showNftData",nftDataUri:o,mo_web3_verify_nonce:wp_nonce};jQuery.post(ajaxurl,f,function(t){t=(t=t.replace(/\\n/g,"\\n").replace(/\\'/g,"\\'").replace(/\\"/g,'\\"').replace(/\\&/g,"\\&").replace(/\\r/g,"\\r").replace(/\\t/g,"\\t").replace(/\\b/g,"\\b").replace(/\\f/g,"\\f")).replace(/[\u0000-\u0019]+/g,"");let e=JSON.parse(t);displayNftData(e,n,i)})}}function displayNftData(t,e,a){let s=t.image,i=t.name;s.startsWith("ipfs://")&&(s=`https://ipfs.io/ipfs/${s.split("ipfs://")[1]}`);let n=`<img class="card-img-top" src="${s}" alt="">`;isImage(s)||(n+='<video class="card-img-top">',n+=`<source  src="${s}" type="video/mp4">`,n+="</video>");let r="";if(0==cardCount){let o=document.createElement("div");o.classList.add("row","mb-3"),document.getElementById("nfts").appendChild(o)}let c=`https://opensea.io/assets/${e}/${a}`;r+='<div class="card col-sm-3 m-1" style="width: 12 rem;">',r+=`<a href=${c} target='_blank'>`,r+=n,r+="</a>",r+='<div class="card-body">',r+=`<h6 class="card-title">${i}</h6>`,r+="</div>",r+="</div>";let l=document.getElementById("nfts").lastChild;l.innerHTML+=r,++cardCount%3==0&&(cardCount=0)}